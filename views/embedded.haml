%link{:href => @assets_url_prefix + '/stylesheets/main.css', :rel => 'stylesheet', :type => 'text/css'}

.neoviz_body
  =haml :partial

  -# Arbor.js contains a hack in which it searches for a <script> element
  -# with src containing arbor.js, so that it can figure out which path to
  -# give its WebWorker constructor. But our Sprockets bundle exposes this hack since
  -# there no longer is a standalone <script> for arbor.js. So we get a request for "nullarbor.js".
  -# Workaround: give it a script tag here even though we reference
  -# it in main.sprockets.js
  -# (Have to pull in jquery here as well for arbor's pleasure.)
  %script{:type => 'text/javascript', :src  => @assets_url_prefix + '/assets/jquery-1.6.1.min.js'}
  %script{:type => 'text/javascript', :src  => @assets_url_prefix + '/assets/arbor.js'}
  %script{:type => 'text/javascript', :src  => @assets_url_prefix + '/assets/main.sprockets.js'}